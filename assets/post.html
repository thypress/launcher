<!-- SPDX-License-Identifier: MPL-2.0

This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at https://mozilla.org/MPL/2.0/.
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{title}}</title>
  <meta name="description" content="{{description}}">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="article">
  <meta property="og:title" content="{{title}}">
  <meta property="og:description" content="{{description}}">
  <meta property="og:url" content="{{siteUrl}}/post/{{slug}}/">
  {{#if ogImage}}
  <meta property="og:image" content="{{siteUrl}}{{ogImage}}">
  {{/if}}
  <meta property="og:site_name" content="{{siteTitle}}">
  <meta property="article:published_time" content="{{dateISO}}">
  {{#if author}}
  <meta property="article:author" content="{{author}}">
  {{/if}}

  <!-- Twitter -->
  <meta name="twitter:card" content="{{#if ogImage}}summary_large_image{{else}}summary{{/if}}">
  <meta name="twitter:title" content="{{title}}">
  <meta name="twitter:description" content="{{description}}">
  {{#if ogImage}}
  <meta name="twitter:image" content="{{siteUrl}}{{ogImage}}">
  {{/if}}

  <!-- SEO -->
  <link rel="canonical" href="{{siteUrl}}/post/{{slug}}/">
  {{#if author}}
  <meta name="author" content="{{author}}">
  {{/if}}

  <link rel="stylesheet" href="/assets/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
</head>
<body>
  {{#if navigation}}
  <aside>
    <h2>Navigation</h2>
    <nav>
      {{#each navigation}}
        {{#if (eq this.type "folder")}}
          <details open>
            <summary>{{this.title}}</summary>
            <ul>
              {{#each this.children}}
                <li><a href="/post/{{this.slug}}/">{{this.title}}</a></li>
              {{/each}}
            </ul>
          </details>
        {{else}}
          <div>
            <a href="/post/{{this.slug}}/">{{this.title}}</a>
          </div>
        {{/if}}
      {{/each}}
    </nav>
  </aside>
  {{/if}}

  <main>
    <p><a href="/">Back</a></p>
    <hr>

    <!--<h1>{{title}}</h1>-->

    <div class="meta">
      {{date}}
      {{#if tags}}
      <span class="tags">
        {{#each tags}}<a href="/tag/{{this}}/">{{this}}</a>{{/each}}
      </span>
      {{/if}}
    </div>

    <article>
      {{{content}}}
    </article>
  </main>
</body>
</html>
